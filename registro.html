<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registro - Lotus</title>
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo">
        <a href="index.html">
          <span class="logo-text">ü™∑ Lotus</span>
        </a>
        <a href="about.html">Qui√©nes somos</a>
      </div>
      <div class="nav-links">
        <a href="login.html">Iniciar sesi√≥n</a>
        <a href="comprar.html">Precios</a>
      </div>
    </div>
  </nav>

  <main class="container">
    <div class="login-container">
      <div class="logo-big">ü™∑</div>
      <h1>Crear cuenta</h1>
      <p class="subtitle">√önete a Lotus y protege tus contrase√±as</p>
      
      <form id="registerForm" class="form-box">
        <div id="errorMsg" class="error-msg" style="display: none;"></div>
        
        <div class="form-group">
          <label for="name">Nombre completo</label>
          <input type="text" id="name" required>
        </div>

        <div class="form-group">
          <label for="email">Correo electr√≥nico</label>
          <input type="email" id="email" required>
        </div>

        <div class="form-group">
          <label for="password">Contrase√±a maestra</label>
          <div class="password-input">
            <input type="password" id="password" required>
            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('password')">üëÅÔ∏è</button>
          </div>
          <div class="password-strength">
            <div id="strengthBar" class="password-strength-bar"></div>
          </div>
          <div id="passwordRequirements" class="password-requirements">
            <div class="requirement" id="req-length">
              <span>‚óè</span> M√≠nimo 8 caracteres
            </div>
            <div class="requirement" id="req-uppercase">
              <span>‚óè</span> Una may√∫scula
            </div>
            <div class="requirement" id="req-number">
              <span>‚óè</span> Un n√∫mero
            </div>
            <div class="requirement" id="req-special">
              <span>‚óè</span> Un car√°cter especial (!@#$%^&*)
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirmar contrase√±a</label>
          <div class="password-input">
            <input type="password" id="confirmPassword" required>
            <button type="button" class="toggle-password" onclick="togglePasswordVisibility('confirmPassword')">üëÅÔ∏è</button>
          </div>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input type="checkbox" id="terms" required>
            Acepto los t√©rminos y condiciones
          </label>
        </div>

        <button type="submit" class="btn btn-primary btn-full">Crear cuenta</button>
        
        <p class="form-note">
          ¬øYa tienes cuenta? <a href="login.html" style="color: #6ee7b7;">Inicia sesi√≥n</a>
        </p>
      </form>
    </div>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Lotus Password Manager</p>
  </footer>

  <script>
    function togglePasswordVisibility(inputId) {
      var passwordInput = document.getElementById(inputId);
      var button = event.target;
      
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        button.textContent = 'üôà';
      } else {
        passwordInput.type = 'password';
        button.textContent = 'üëÅÔ∏è';
      }
    }

    document.getElementById('password').addEventListener('input', function(e) {
      var password = e.target.value;
      var strengthBar = document.getElementById('strengthBar');
      
      var hasLength = password.length >= 8;
      var hasUppercase = /[A-Z]/.test(password);
      var hasNumber = /[0-9]/.test(password);
      var hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
      
      document.getElementById('req-length').className = hasLength ? 'requirement met' : 'requirement unmet';
      document.getElementById('req-uppercase').className = hasUppercase ? 'requirement met' : 'requirement unmet';
      document.getElementById('req-number').className = hasNumber ? 'requirement met' : 'requirement unmet';
      document.getElementById('req-special').className = hasSpecial ? 'requirement met' : 'requirement unmet';
      
      var strength = 0;
      if (hasLength) strength++;
      if (hasUppercase) strength++;
      if (hasNumber) strength++;
      if (hasSpecial) strength++;
      
      strengthBar.className = 'password-strength-bar';
      if (strength === 4) {
        strengthBar.className += ' strength-strong';
      } else if (strength >= 2) {
        strengthBar.className += ' strength-medium';
      } else if (strength >= 1) {
        strengthBar.className += ' strength-weak';
      }
    });

    document.getElementById('registerForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      var name = document.getElementById('name').value;
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;
      var confirmPassword = document.getElementById('confirmPassword').value;
      var terms = document.getElementById('terms').checked;
      var errorMsg = document.getElementById('errorMsg');
      
      var hasLength = password.length >= 8;
      var hasUppercase = /[A-Z]/.test(password);
      var hasNumber = /[0-9]/.test(password);
      var hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
      
      if (!hasLength || !hasUppercase || !hasNumber || !hasSpecial) {
        errorMsg.textContent = 'La contrase√±a debe cumplir todos los requisitos de seguridad';
        errorMsg.style.display = 'block';
        setTimeout(function() { errorMsg.style.display = 'none'; }, 3000);
        return;
      }
      
      if (password !== confirmPassword) {
        errorMsg.textContent = 'Las contrase√±as no coinciden';
        errorMsg.style.display = 'block';
        setTimeout(function() { errorMsg.style.display = 'none'; }, 3000);
        return;
      }
      
      if (!terms) {
        errorMsg.textContent = 'Debes aceptar los t√©rminos y condiciones';
        errorMsg.style.display = 'block';
        setTimeout(function() { errorMsg.style.display = 'none'; }, 3000);
        return;
      }
      
      localStorage.setItem('lotus_user', JSON.stringify({ 
        name: name,
        email: email 
      }));
      
      alert('Cuenta creada exitosamente! Redirigiendo...');
      setTimeout(function() {
        window.location.href = 'listado_tabla.html';
      }, 1000);
    });
  </script>
</body>
</html>

